#include "libft.h"
#include "fillit.h"
#include "unity.h"
#include "ctype.h"
#include "string.h"
#include "stdlib.h"

void	setUp(void)
{
}

void	tearDown(void)
{
}


const uint16_t	valid[112] = {0b1100100010000000, 0b0110010001000000, 0b0011001000100000,
							0b0000110010001000, 0b0000011001000100, 0b0000001100100010,
							0b1110001000000000, 0b0111000100000000, 0b0000111000100000,
							0b0000011100010000, 0b0000000011100010, 0b0000000001110001,
							0b0100010011000000, 0b0010001001100000, 0b0001000100110000,
							0b0000010001001100, 0b0000001000100110, 0b0000000100010011,
							0b1000111000000000, 0b0100011100000000, 0b0000100011100000,
							0b0000010001110000, 0b0000000010001110, 0b0000000001000111,
							0b1100010001000000, 0b0110001000100000, 0b0011000100010000,
							0b0000110001000100, 0b0000011000100010, 0b0000001100010001,
							0b0010111000000000, 0b0001011100000000, 0b0000001011100000,
							0b0000000101110000, 0b0000000000101110, 0b0000000000010111,
							0b1000100011000000, 0b0100010001100000, 0b0010001000110000,
							0b0000100010001100, 0b0000010001000110, 0b0000001000100011,
							0b1110001000000000, 0b0111000100000000, 0b0000111000100000,
							0b0000011100010000, 0b0000000011100010, 0b0000000001110001,
							0b1100110000000000, 0b0110011000000000, 0b0011001100000000,
							0b0000110011000000, 0b0000011001100000, 0b0000000011001100,
							0b0000000001100110, 0b0000000000110011, 0b1111000000000000,
							0b0000111100000000, 0b0000000011110000, 0b0000000000001111,
							0b1000100010001000, 0b0100010001000100, 0b0010001000100010,
							0b0001000100010001, 0b1000110010000000, 0b0100011001000000,
							0b0010001100100000, 0b0000100011001000, 0b0000010001100100,
							0b0000001000110010, 0b1110010000000000, 0b0111001000000000,
							0b0000111001000000, 0b0000011100100000, 0b0000000011100100,
							0b0000000001110010, 0b0100110001000000, 0b0010011000100000,
							0b0001001100010000, 0b0000010011000100, 0b0000001001100010,
							0b0000000100110001, 0b0100111000000000, 0b0010011100000000,
							0b0000010011100000, 0b0000001001110000, 0b0000000001001110,
							0b0000000000100111, 0b1100011000000000, 0b0110001100000000,
							0b0000110001100000, 0b0000011000110000, 0b0000000011000110,
							0b0000000001100011, 0b0100110010000000, 0b0010011001000000,
							0b0001001100100000, 0b0000010011001000, 0b0000001001100100,
							0b0000000100110010, 0b0110110000000000, 0b0011011000000000,
							0b0000011011000000, 0b0000001101100000, 0b0000000001101100,
							0b0000000000110110, 0b1000110001000000, 0b0100011000100000,
							0b0010001100010000, 0b0000100011000100, 0b0000010001100010,
							0b0000001000110001};


void	test_bit_arr(void)
{
	int		fd;
	int		i;
	int		k;
	int		diff;
	char	*line;

	fd = open("sandbox/all_tetriminos.txt.mine", O_CREAT | O_RDWR | O_TRUNC, 0755);
	i = 0;
	while (i < 112)
	{
		k = 15;
		while (k >= 0)
		{
			if (ft_getbit(valid[i], k))
				ft_putchar_fd('#', fd);
			else
				ft_putchar_fd('.', fd);
			if (k % 4 == 0)
				ft_putchar_fd('\n', fd);
			k--;
		}
		ft_putchar_fd('\n', fd);
		i++;
	}
	close(fd);
	system("diff sandbox/all_tetriminos.txt sandbox/all_tetriminos.txt.mine > sandbox/all_tetriminos.diff");
	fd = open("sandbox/all_tetriminos.diff", O_RDONLY);
	diff = read(fd, &line, 10);
	TEST_ASSERT_EQUAL_INT(0, diff);
}
